!function(e){function t(t){for(var r,a,u=t[0],c=t[1],l=t[2],f=0,d=[];f<u.length;f++)a=u[f],o[a]&&d.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(s&&s(t);d.length;)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/react-renderless-virtual-list/";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var s=c;i.push([117,1]),n()}({117:function(e,t,n){e.exports=n(118)},118:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(98),a=n.n(i),u=n(99);a.a.render(o.a.createElement(u.a,null),document.querySelector("#app"))},63:function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n(5),u=n.n(a),c=n(6),l=n.n(c),s=n(105),f=n.n(s),d=n(106),h=Object(i.a)(i.d,Object(i.j)("size","setSize",function(e){e.index;var t=e.size;return void 0===t?{height:0,width:0}:t}),Object(i.g)({onResize:function(e){e.index;var t=e.size,n=e.setSize;return function(e,r){var o=f()(r).contentRect,i=o.top,a=o.right,u=o.bottom,c=o.left,s=o.height,d=o.width,h=i+(u-s)+s,p=c+(a-d)+d,v={height:h,width:p};h<=0||p<=0||l()(t,v)||n(v)}}}),Object(i.g)(function(e){var t=null,n=u.a,r=e.onResize,o=new d.a(function(e){return r(t,e)}),i=function(){if(t)return o.observe(t),function(){o.unobserve(t),t=null}};return{observe:i,setSizeRef:function(){return function(e){(t=e)&&(n=i())}},unobserve:function(){return function(){r=u.a,n()}}}}),Object(i.c)({componentWillUnmount:function(){this.props.unobserve()}})),p=Object(i.a)(i.d,h),v=Object(i.f)(p),g=n(59),m=n.n(g),w=n(33),b=n.n(w),y=n(21),O=n.n(y),S=n(107),R=n.n(S),x=n(108),j=n.n(x),_=n(109),I=n.n(_),T=n(56),E=n.n(T),L=n(60),H=n.n(L),C=n(61),P=n.n(C),z=n(35),k=n.n(z),N=n(20),A=n.n(N),M=n(34),F=n.n(M),G=n(23),D=n.n(G),V=n(36),U=n.n(V),q=n(110),B=n.n(q),W=n(111),J=n.n(W),Q=B.a.extend(J.a),K=Object(i.a)(Object(i.k)(function(){return{scrollTop:0,scrollReason:null}},{_onScroll:function(e){return function(t,n){if(e.scrollTop!==t)return{scrollTop:t,scrollReason:"SCROLL_REASON_ON_SCROLL_EVENT"}}},requestScrollTo:function(e){return function(t){if(e.scrollTop!==t)return{scrollTop:t,scrollReason:"SCROLL_REASON_REQUESTED"}}}}),Object(i.g)(function(e){var t=u.a,n=null,r=!1,o=function(t){r||(Q.measure(function(){e._onScroll(n.scrollTop,t),r=!1}),r=!0)};return{setScrollContainerRef:function(){return function(e){n=e,window.scrollContainerRef=n,n&&(t=function(){return n.addEventListener("scroll",o,{passive:!0}),function(){return n.removeEventListener("scroll",o)}})}},scrollTo:function(){return function(e){Q.mutate(function(){n.scrollTop=e})}},listen:function(){return t}}}),Object(i.c)({componentDidUpdate:function(){var e=this.props,t=e.scrollReason,n=e.scrollTo,r=e.scrollTop;"SCROLL_REASON_REQUESTED"===t&&n(r)},componentDidMount:function(){this.unlisten=this.props.listen()},componentWillUnmount:function(){this.unlisten&&this.unlisten()}})),X=n(11),Y=n.n(X),Z="undefined"!=typeof window,$=function(){return Z?window.performance.now():new Date},ee=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(Y()(e)&&(n=t,t=e,e=""),n)return t();var r=$();t();var o=$()-r;return console.log("".concat(e?"[".concat(e,"] "):"","Took ").concat(o," milliseconds.")),o};ee.skip=function(e,t){return Y()(e)&&(t=e),t()};var te={now:$,measure:ee},ne=n(112),re=n.n(ne),oe=n(113),ie=n.n(oe),ae=n(38),ue=n.n(ae),ce=n(114),le=n.n(ce),se=n(115),fe=n.n(se),de=n(62),he=n.n(de),pe=n(116),ve=n.n(pe);function ge(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var we=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset(t,n)}return function(e,t,n){t&&me(e.prototype,t),n&&me(e,n)}(e,[{key:"reset",value:function(e,t){this._setRowHeights(e),this._setGroupIndices(t)}},{key:"_setRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;this.fromOfRows=ve()(e,function(e,n,r){e.set(t+=n,r)},new Map),this.totalHeight=he()(e),this.heights=e}},{key:"_setGroupIndices",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.groupHeights=new Map;var n=0,r=0;U()(t,function(t){var o=e.heights.slice(n,0===n?t+1:t),i=he()(o);e.groupHeights.set(t,{height:i,from:r}),r+=i,n=t}),this.groupIndices=t}},{key:"getTotalHeight",value:function(){return this.totalHeight}},{key:"getGroupHeight",value:function(e){return this.groupHeights.get(e)}},{key:"getFromOfRows",value:function(){return Array.from(this.fromOfRows.keys())}},{key:"getFromPosition",value:function(e){return 0===e?0:this.getFromOfRows()[e-1]||0}},{key:"nearestGroupIndices",value:function(e,t){var n=this.findVisibleIndex(e,t),r=fe()(this.groupIndices,function(e){return n.from>=e})||null,o=le()(this.groupIndices,function(e){return n.from<=e&&e<=n.to}),i=ue()(this.groupIndices,function(e){return e>=n.to})||null;return{first:r,visible:o,last:i,all:ie()(re()([r].concat(ge(o),[i])))}}},{key:"findVisibleIndex",value:function(e,t){var n=ue()(this.getFromOfRows(),function(t){return t>=e}),r=ue()(this.getFromOfRows(),function(e){return e>=t}),o=this.fromOfRows.get(n);return{from:o,to:this.fromOfRows.get(r),fromPosition:this.getFromPosition(o),toPosition:r}}},{key:"findOverScanIndex",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.findVisibleIndex(e,t),o=r.from-n>=0?r.from-n:0,i=r.to+n<=this.heights.length-1?r.to+n:this.heights.length-1;return{from:o,to:i,fromPosition:this.getFromPosition(o),toPosition:this.getFromOfRows()[i]}}}]),e}();function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ye(e,t,n[t])})}return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe=Object(i.a)(i.d,h,Object(i.i)(function(e,t){return!l()(e.size,t.size)},function(e){var t=e.onMeasure,n=void 0===t?u.a:t,r=e.index,o=e.size,i=void 0===o?{}:o;i.height&&i.width&&n(r,i)}),Object(i.h)(function(e){var t,n=e.size,r=void 0===n?{}:n,o=e.defaultRowSize,i=void 0===o?{}:o,a=e.reversed,u=void 0!==a&&a,c=e.setSizeRef,l=e.row,s=e.index,f=e.isGroupHeader,d=e.groupHeight,h=e.top,p=e.bottom,v=(ye(t={position:"absolute"},u?"bottom":"top",u?p:h),ye(t,"left",0),t);return f?{row:l,index:s,setSizeRef:c,style:v=be({},v,{height:d})}:{row:l,index:s,setSizeRef:c,style:v=r.height?be({},v,{height:r.height}):be({},v,{minHeight:i.height})}}),Object(i.e)(function(e,t){var n=!l()(e.size,t.size),r=!l()(e.row,t.row),o=!l()(e.style,t.style);return r||o||n})),Se=Object(i.f)(Oe);function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xe(e,t,n[t])})}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var _e={renderListContainer:function(e){var t=e.className,n=void 0===t?"c-virtual-list-container":t,r=e.children,i=e.style,a=e.setScrollContainerRef;return o.a.createElement("div",{ref:a,className:n,style:i},r)},renderList:function(e){var t=e.className,n=void 0===t?"c-virtual-list":t,r=e.children,i=e.style;return o.a.createElement("div",{className:n,style:i},r)},renderListItem:function(e){var t=e.keyBy,n=e.rowSize,r=e.size,i=e.onMeasure,a=e.reversed,u=e.rows,c=e.row,l=e.index,s=e.isGroupHeader,f=e.fromOfRows,d=e.groupHeight,h=e.top,p=e.bottom,v=c.__RRVL__||{},g=u[v.nextIndex]||null,m=u[v.previousIndex]||null,w="".concat(l,"-").concat(s?c.groupHeader:t({row:c,index:l}));return o.a.createElement(Se,{key:w,rows:u,nextRow:g,previousRow:m,row:c,index:l,onMeasure:i,size:r,defaultRowSize:n,reversed:a,fromOfRows:f,isGroupHeader:s,top:h,bottom:p,groupHeight:d},s?e.renderGroupHeader:e.children)},keyBy:function(e){return e.index},overScanCount:3,height:300,width:"100%",rowSize:{height:100,width:100}},Ie=Object(i.a)(i.d,Object(i.b)(_e),Object(i.i)(["rows"],function(e){var t=e.rows,n=e.groupBy,r=[],o=[],i=null,a=0;return U()(t,function(e,u){var c=a;D()(e,["__RRVL__","index"],c),D()(e,["__RRVL__","initialIndex"],u);var l=t[u-1];if(l){var s=F()(l,["__RRVL__","index"]);D()(l,["__RRVL__","nextIndex"],c),D()(e,["__RRVL__","previousIndex"],s)}o.push(e);var f=null;n&&(f=n({rows:t,row:e,index:u,previousRow:l,lastGroupHeader:i})),f!==i&&(r.push(o.length),o.push({groupHeader:f})),a=o.length,i=f}),{groupIndices:r,rows:o}}),Object(i.i)(["onLoadMore","onScroll"],function(e){var t=e.onLoadMore,n=e.onScroll;return{onScroll:A()(n||u.a,300,{leading:!0,trailing:!1}),onLoadMore:A()(t||u.a,300,{leading:!0,trailing:!1})}}),Object(i.i)(["height","width"],function(e){var t=e.height,n=e.width;return 0===t?{height:_e.height}:0===n?{height:_e.width}:{height:k()(t)?t:parseFloat(t,10),width:k()(n)?n:parseFloat(n,10)}}),Object(i.k)(function(e){e.reversed;var t=e.rows,n=e.groupIndices,r=P()(new Array(t.length),_e.rowSize.height),o=new we(r,n);return{virtualListState:o,heightCache:r,totalHeight:o.getTotalHeight()}},{mergeHeightCache:function(e,t){var n=t.groupIndices;return function(t){var r=H()(je(e.heightCache),t);if(!l()(e.heightCache,r)){var o=new we(r,n);return{virtualListState:o,heightCache:r,totalHeight:o.getTotalHeight()}}}}}),Object(i.i)(["rows"],function(e){var t=e.rows,n=e.heightCache,r=e.mergeHeightCache,o=P()(new Array(t.length),_e.rowSize.height);r(H()(o,n))}),K,Object(i.g)(function(){var e=-1,t=!1,n=[],r=!1;return{handleScroll:function(n){return function(){var r=n.scrollTop,o=void 0===r?0:r,i=n.onScroll,a=n.onLoadMore,u=n.rows,c=n.height,l=n.overScanCount,s=n.virtualListState,f=n.reversed,d=f?1e7-(o+c):o;f&&!t&&(d=0);var h=d+c,p=s.findVisibleIndex(d,h),v=s.findOverScanIndex(d,h,l),g=e>o?"SCROLL_DIRECTION_UP":"SCROLL_DIRECTION_DOWN";e=o;var m=!f||t,w=v.to>=u.length-1;return i&&m&&i({scrollTop:o,direction:g,visibleIndex:p,overScanIndex:v}),a&&m&&w&&a({scrollTop:o,direction:g,visibleIndex:p,overScanIndex:v}),{visibleIndex:p,overScanIndex:v,positions:{from:v.fromPosition,to:v.toPosition}}}},setHeightCache:function(e){return function(t,o){n[t]=o,r||requestAnimationFrame(function(){e.mergeHeightCache(n),r=!1,n=[]}),r=!0}},getStyles:function(e){e.totalHeight,e.heightCache;var t=e.height,n=e.width;return function(){return{containerStyle:{height:t,width:n,overflowX:"auto",willChange:"transform"},listStyle:{position:"relative",minHeight:"100%",width:"100%",height:1e7}}}},adjustScrollTop:function(e){var n=e.requestScrollTo,r=e.height;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n(1e7-r-e),t=!0}},scrollToRow:function(e){return function(t){var n=e.rows,r=e.requestScrollTo,o=e.height,i=e.virtualListState,a=E()(n,function(e){return F()(e,["__RRVL__","initialIndex"])===Number(t)}),u=i.getFromPosition(a);I()(u)||r(1e7-o-u)}}}}),Object(i.g)({onMeasure:function(e){var t=e.setHeightCache;return function(e,n){t(e,n.height)}},ensureScrollToRow:function(e){var t=e.scrollToRow;return function(e){t(e),j()(function(){t(e)},300)}}}),Object(i.i)(["virtualListState","scrollTop","height"],function(e){return Re({},e.handleScroll(),e.getStyles())}),Object(i.c)({componentDidMount:function(){this.props.reversed&&this.props.adjustScrollTop()},getSnapshotBeforeUpdate:function(e){return l()(e.rows,this.props.rows)?null:this.props.totalHeight},componentDidUpdate:function(e,t,n){var r=this.props,o=r.reversed,i=r.scrollToIndex,a=r.adjustScrollTop,u=r.ensureScrollToRow;o&&(null!==n&&a(n),e.scrollToIndex!==i&&u(i))}}))(function(e){var t=e.rows,n=void 0===t?[]:t,r=e.containerStyle,i=void 0===r?{}:r,a=e.listStyle,u=void 0===a?{}:a,c=e.groupIndices,l=e.overScanIndex,s=void 0===l?{from:0,to:n.length-1}:l,f=e.renderList,d=e.setScrollContainerRef,h=e.renderListItem,p=e.renderListContainer,v=e.reversed,g=e.virtualListState,w=f,y=p,S=g.nearestGroupIndices(s.fromPosition,s.toPosition),x=[],j=R()(S.all)?O()(s.from,s.to+1):O()(S.first||0,S.last+1);return te.measure.skip("renderRows",function(){x=b()(j,function(t){var r=n[t],o=g.getFromPosition(t);if(m()(c,t)){var i;if(!m()(S.all,t))return null;var a=g.getGroupHeight(t);return h(Re({},e,(xe(i={row:r,index:t,fromOfRows:o},v?"bottom":"top",a.from),xe(i,"groupHeight",a.height),xe(i,"isGroupHeader",!0),i)))}return t<s.from||t>s.to?null:h(Re({},e,xe({row:r,index:t,fromOfRows:o},v?"bottom":"top",o)))})},!0),o.a.createElement(y,{style:i,setScrollContainerRef:d},o.a.createElement(w,{style:u},x))});n.d(t,"b",function(){return Ie}),n.d(t,"a",function(){return v})},99:function(e,t,n){"use strict";(function(e){var r=n(100),o=n.n(r),i=n(20),a=n.n(i),u=n(21),c=n.n(u),l=n(33),s=n.n(l),f=n(101),d=n.n(f),h=n(0),p=n.n(h),v=n(102),g=n(57),m=n.n(g),w=n(63),b=n(1);function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var O=function(e){var t=e.row,n=e.setSizeRef,r=e.style;return p.a.createElement("div",{className:"row-".concat(t.id),style:r},p.a.createElement("div",{ref:n,className:"relative px-4 py-2 border-b"},p.a.createElement("span",{className:"text-red font-bold"},"Row: ",t.id),p.a.createElement("p",null,t.text)))},S=function(e){var t=e.row,n=e.setSizeRef,r=e.style,o=t.groupHeader;return p.a.createElement("div",{className:"header-".concat(o),style:r},p.a.createElement("div",{ref:n,className:"c-sticky pin-t z-50 w-screen"},p.a.createElement("div",{className:"py-2 px-4 bg-red text-white font-bold"},"".concat(o))))},R=function(e){return m.a.seed(e),{id:e+1,text:m.a.lorem.paragraphs()}},x=Object(b.a)(Object(v.hot)(e),Object(b.k)(function(){return{rows:d()(100,R),scrollToIndex:null}},{loadRows:function(e){var t=e.rows;return function(){return{rows:y(t).concat(y(s()(c()(t.length,t.length+100),R)))}}},prependRow:function(e){var t=e.rows;return function(){return{rows:[R(1e4)].concat(y(t)),scrollToIndex:0}}},setScrollToIndex:function(){return function(e){return{scrollToIndex:e}}}}),Object(b.i)(["loadRows"],function(e){var t=e.loadRows;return{loadRows:a()(t,1e3/60,{leading:!0,trailing:!1})}}),Object(b.g)({onLoadMore:function(e){var t=e.loadRows;return function(){t()}},onPrepend:function(e){var t=e.prependRow,n=e.setScrollToIndex;return function(){t(),requestAnimationFrame(function(){return n(null)})}}}));t.a=x(function(e){var t=e.rows,n=e.onScroll,r=e.onLoadMore,i=e.onPrepend,a=e.setScrollToIndex,u=e.scrollToIndex;window.onPrepend=i;var c=null;return p.a.createElement("div",{className:"flex flex-col h-screen"},p.a.createElement("header",{className:"p-4 flex-0 border-b-2 flex items-center justify-between"},p.a.createElement("span",null,"Fixed header area"),p.a.createElement("span",{className:"flex items-stretch justify-center"},p.a.createElement("input",{className:"w-16 border px-4 py-2 rounded outline-none",type:"text",placeholder:"No",onChange:function(e){c=e.target.value},onKeyDown:function(e){"enter"===o()(e.key)&&a(Number(c)-1)}}),p.a.createElement("button",{className:"ml-2 px-2 rounded border",onClick:function(){return a(Number(c)-1)}},"Go"))),p.a.createElement(w.a,null,function(e){var o=e.size,i=e.setSizeRef;return p.a.createElement("div",{className:"flex-1 overflow-hidden",ref:i},p.a.createElement(w.b,{onLoadMore:r,onScroll:n,height:o.height,width:o.width,rows:t,groupBy:function(e){var t=e.row,n=25*Math.floor(t.id/25);return 0===n?null:"".concat(n,"th")},keyBy:function(e){return e.row.id},renderGroupHeader:S,scrollToIndex:u,reversed:!0},O))}))})}).call(this,n(65)(e))}});
//# sourceMappingURL=main.c40152e0.js.map