!function(e){function t(t){for(var r,a,c=t[0],u=t[1],s=t[2],f=0,h=[];f<c.length;f++)a=c[f],o[a]&&h.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(l&&l(t);h.length;)h.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/react-renderless-virtual-list/";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var l=u;i.push([106,1]),n()}({106:function(e,t,n){e.exports=n(107)},107:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(89),a=n.n(i),c=n(90);a.a.render(o.a.createElement(c.a,null),document.querySelector("#app"))},57:function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n(6),c=n.n(a),u=n(3),s=n.n(u),l=n(96),f=n.n(l),h=n(97),d=Object(i.a)(i.d,Object(i.j)("size","setSize",function(e){e.index;var t=e.size;return void 0===t?{height:0,width:0}:t}),Object(i.g)({onResize:function(e){e.index;var t=e.size,n=e.setSize;return function(e,r){var o=f()(r).contentRect,i=o.top,a=o.right,c=o.bottom,u=o.left,l=o.height,h=o.width,d=i+(c-l)+l,g=u+(a-h)+h,v={height:d,width:g};d<=0||g<=0||s()(t,v)||n(v)}}}),Object(i.g)(function(e){var t=null,n=c.a,r=e.onResize,o=new h.a(function(e){return r(t,e)}),i=function(){if(t)return o.observe(t),function(){o.unobserve(t),t=null}};return{observe:i,setSizeRef:function(){return function(e){(t=e)&&(n=i())}},unobserve:function(){return function(){r=c.a,n()}}}}),Object(i.c)({componentWillUnmount:function(){this.props.unobserve()}})),g=Object(i.a)(i.d,d),v=Object(i.f)(g),p=n(53),b=n.n(p),m=n(28),w=n.n(m),y=n(54),O=n.n(y),S=n(55),j=n.n(S),R=n(98),x=n.n(R),E=n(50),H=n.n(E),I=n(13),z=n.n(I),L=n(29),T=n.n(L),C=n(99),P=n.n(C),_=n(100),k=n.n(_),A=P.a.extend(k.a),N=Object(i.a)(Object(i.k)(function(){return{scrollTop:0,scrollReason:null}},{_onScroll:function(e){return function(t,n){if(e.scrollTop!==t)return{scrollTop:t,scrollReason:"SCROLL_REASON_ON_SCROLL_EVENT"}}},requestScrollTo:function(e){return function(t){if(e.scrollTop!==t)return{scrollTop:t,scrollReason:"SCROLL_REASON_REQUESTED"}}}}),Object(i.g)(function(e){var t=c.a,n=null,r=!1,o=function(t){r||(A.measure(function(){e._onScroll(n.scrollTop,t),r=!1}),r=!0)};return{setScrollContainerRef:function(){return function(e){n=e,window.scrollContainerRef=n,n&&(t=function(){return n.addEventListener("scroll",o,{passive:!0}),function(){return n.removeEventListener("scroll",o)}})}},scrollTo:function(){return function(e){A.mutate(function(){n.scrollTop=e})}},listen:function(){return t}}}),Object(i.i)(["scrollReason"],function(e){"SCROLL_REASON_REQUESTED"===e.scrollReason&&e.scrollTo(e.scrollTop)}),Object(i.c)({componentDidMount:function(){this.unlisten=this.props.listen()},componentWillUnmount:function(){this.unlisten&&this.unlisten()}})),M=n(101),G=n.n(M),F=n(102),D=n.n(F),U=n(31),V=n.n(U),q=n(103),B=n.n(q),W=n(104),J=n.n(W),Q=n(56),X=n.n(Q),K=n(105),Y=n.n(K);function Z(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ee=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset(t,n)}return function(e,t,n){t&&$(e.prototype,t),n&&$(e,n)}(e,[{key:"reset",value:function(e,t){this._setRowHeights(e),this._setGroupIndices(t)}},{key:"_setRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;this.fromOfRows=Y()(e,function(e,n,r){e.set(t+=n,r)},new Map),this.totalHeight=X()(e),this.heights=e}},{key:"_setGroupIndices",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.groupHeights=new Map;var n=0,r=0;T()(t,function(t){var o=e.heights.slice(n,0===n?t+1:t),i=X()(o);e.groupHeights.set(t,{height:i,from:r}),r+=i,n=t}),this.groupIndices=t}},{key:"getTotalHeight",value:function(){return this.totalHeight}},{key:"getGroupHeight",value:function(e){return this.groupHeights.get(e)}},{key:"getFromOfRows",value:function(){return Array.from(this.fromOfRows.keys())}},{key:"getFromPosition",value:function(e){return 0===e?0:this.getFromOfRows()[e-1]||0}},{key:"nearestGroupIndices",value:function(e,t){var n=this.findVisibleIndex(e,t),r=J()(this.groupIndices,function(e){return n.from>=e})||null,o=B()(this.groupIndices,function(e){return n.from<=e&&e<=n.to}),i=V()(this.groupIndices,function(e){return e>=n.to})||null;return{first:r,visible:o,last:i,all:D()(G()([r].concat(Z(o),[i])))}}},{key:"findVisibleIndex",value:function(e,t){var n=V()(this.getFromOfRows(),function(t){return t>=e}),r=V()(this.getFromOfRows(),function(e){return e>=t}),o=this.fromOfRows.get(n);return{from:o,to:this.fromOfRows.get(r),fromPosition:this.getFromPosition(o),toPosition:r}}},{key:"findOverScanIndex",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.findVisibleIndex(e,t),o=r.from-n>=0?r.from-n:0,i=r.to+n<=this.heights.length-1?r.to+n:this.heights.length-1;return{from:o,to:i,fromPosition:this.getFromPosition(o),toPosition:this.getFromOfRows()[i]}}}]),e}();function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ne(e,t,n[t])})}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=Object(i.a)(i.d,d,Object(i.i)(function(e,t){return!s()(e.size,t.size)},function(e){var t=e.onMeasure,n=void 0===t?c.a:t,r=e.index,o=e.size,i=void 0===o?{}:o;i.height&&i.width&&n(r,i)}),Object(i.h)(function(e){var t,n=e.size,r=void 0===n?{}:n,o=e.defaultRowSize,i=void 0===o?{}:o,a=e.reversed,c=void 0!==a&&a,u=e.setSizeRef,s=e.row,l=e.index,f=e.isGroupHeader,h=e.groupHeight,d=e.top,g=e.bottom,v=(ne(t={position:"absolute"},c?"bottom":"top",c?g:d),ne(t,"left",0),t);return f?{row:s,index:l,setSizeRef:u,style:v=te({},v,{height:h})}:{row:s,index:l,setSizeRef:u,style:v=r.height?te({},v,{height:r.height}):te({},v,{minHeight:i.height})}}),Object(i.e)(function(e,t){var n=!s()(e.size,t.size),r=!s()(e.row,t.row),o=!s()(e.style,t.style);return r||o||n})),oe=Object(i.f)(re);function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ae(e,t,n[t])})}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ue={renderListContainer:function(e){var t=e.className,n=void 0===t?"c-virtual-list-container":t,r=e.children,i=e.style,a=e.setScrollContainerRef;return o.a.createElement("div",{ref:a,className:n,style:i},r)},renderList:function(e){var t=e.className,n=void 0===t?"c-virtual-list":t,r=e.children,i=e.style;return o.a.createElement("div",{className:n,style:i},r)},renderListItem:function(e){var t=e.rowSize,n=e.size,r=e.onMeasure,i=e.reversed,a=e.row,c=e.index,u=e.groupHeader,s=e.isGroupHeader,l=e.fromOfRows,f=e.groupHeight,h=e.top,d=e.bottom;return o.a.createElement(oe,{key:c,row:a,index:c,groupHeader:u,onMeasure:r,size:n,defaultRowSize:t,reversed:i,fromOfRows:l,isGroupHeader:s,top:h,bottom:d,groupHeight:f},s?e.renderGroupHeader:e.children)},overScanCount:3,height:300,rowSize:{height:100,width:100}},se=Object(i.a)(i.d,Object(i.b)(ue),Object(i.i)(["rows"],function(e){var t=e.rows,n=e.groupBy,r=[],o=[],i=null;return T()(t,function(e,t){var a=null;n&&(a=n({row:e,index:t})),o.push(e),a!==i&&(r.push(o.length),o.push({groupHeader:a})),i=a}),{groupIndices:r,rows:o}}),Object(i.i)(["onLoadMore","onScroll"],function(e){var t=e.onLoadMore,n=e.onScroll;return{onScroll:z()(n||c.a,300,{leading:!0,trailing:!1}),onLoadMore:z()(t||c.a,300,{leading:!0,trailing:!1})}}),Object(i.i)(["renderListItem"],function(e){var t=e.renderListItem;return{renderListItem:H()(t,function(e){var t=e.index,n=e.fromOfRows,r=e.size;return"row-".concat(t,"-").concat(n).concat(r.height?"-".concat(r.height):"")})}}),Object(i.h)(function(e){var t=e.height;return 0===t?{height:ue.height}:{height:x()(t)?t:parseFloat(t,10)}}),Object(i.k)(function(e){e.reversed;var t=e.rows,n=e.groupIndices,r=j()(new Array(t.length),ue.rowSize.height),o=new ee(r,n);return{virtualListState:o,heightCache:r,totalHeight:o.getTotalHeight()}},{mergeHeightCache:function(e,t){var n=t.groupIndices;return function(t){var r=O()(ce(e.heightCache),t);if(!s()(e.heightCache,r)){var o=new ee(r,n);return{virtualListState:o,heightCache:r,totalHeight:o.getTotalHeight()}}}}}),N,Object(i.g)(function(e){var t=[],n=z()(function(n){e.mergeHeightCache(n),t=[]},0);return{setHeightCache:function(){return function(e,r){t[e]=r,n(t)}}}}),Object(i.g)(function(){var e=-1,t=!1,n=[];return{onMeasure:function(e){var t=e.setHeightCache;return function(e,r){n[e]=r,t(e,r.height)}},handleScroll:function(n){return function(){var r=n.scrollTop,o=void 0===r?0:r,i=n.onScroll,a=n.onLoadMore,c=n.rows,u=n.height,s=n.overScanCount,l=n.virtualListState,f=n.reversed,h=f?1e7-(o+u):o,d=h+u,g=l.findVisibleIndex(h,d),v=l.findOverScanIndex(h,d,s),p=e>o?"SCROLL_DIRECTION_UP":"SCROLL_DIRECTION_DOWN";e=o;var b=!f||t,m=v.to>=c.length-1;return i&&b&&i({scrollTop:o,direction:p,visibleIndex:g,overScanIndex:v}),a&&b&&m&&a({scrollTop:o,direction:p,visibleIndex:g,overScanIndex:v}),{visibleIndex:g,overScanIndex:v,positions:{from:v.fromPosition,to:v.toPosition}}}},getSizeCache:function(){return function(){return n}},getStyles:function(e){e.totalHeight,e.heightCache;var t=e.height;return function(){return{containerStyle:{height:t,width:"100vw",overflowX:"auto",willChange:"transform"},listStyle:{position:"relative",minHeight:"100%",width:"100%",height:1e7}}}},adjustScrollTop:function(e){var n=e.requestScrollTo;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n(1e7-e),t=!0}}}}),Object(i.i)(["scrollTop","height"],function(e){return ie({},e.handleScroll(),e.getStyles())}),Object(i.i)(["rows"],function(e){var t=e.rows,n=e.heightCache,r=e.mergeHeightCache,o=j()(new Array(t.length),ue.rowSize.height);r(O()(o,n))}),Object(i.c)({componentDidMount:function(){this.props.reversed&&this.props.adjustScrollTop()},getSnapshotBeforeUpdate:function(e){return s()(e.rows,this.props.rows)?null:this.props.totalHeight},componentDidUpdate:function(e,t,n){this.props.reversed&&null!==n&&this.props.adjustScrollTop(n)}}),Object(i.e)(function(e,t){var n=!s()(e.overScanIndex,t.overScanIndex),r=!s()(e.height,t.height),o=!s()(e.totalHeight,t.totalHeight);return n||r||o}))(function(e){var t=e.rows,n=void 0===t?[]:t,r=e.containerStyle,i=void 0===r?{}:r,a=e.listStyle,c=void 0===a?{}:a,u=e.groupIndices,s=e.overScanIndex,l=void 0===s?{from:0,to:n.length-1}:s,f=e.renderList,h=e.setScrollContainerRef,d=e.renderListItem,g=e.renderListContainer,v=e.getSizeCache,p=e.reversed,m=e.virtualListState,y=f,O=g,S=v(),j=m.nearestGroupIndices(l.fromPosition,l.toPosition);return o.a.createElement(O,{style:i,setScrollContainerRef:h},o.a.createElement(y,{style:c},w()(n,function(t,n){var r=m.getFromPosition(n),o=S[n]||{height:0};if(b()(u,n)){var i;if(!b()(j.all,n))return null;var a=m.getGroupHeight(n);return d(ie({},e,(ae(i={row:t,index:n,size:o,fromOfRows:r},p?"bottom":"top",a.from),ae(i,"groupHeight",a.height),ae(i,"isGroupHeader",!0),i)))}return n<l.from||n>l.to?null:d(ie({},e,ae({row:t,index:n,size:o,fromOfRows:r},p?"bottom":"top",r)))})))});n.d(t,"b",function(){return se}),n.d(t,"a",function(){return v})},90:function(e,t,n){"use strict";(function(e){var r=n(13),o=n.n(r),i=n(91),a=n.n(i),c=n(28),u=n.n(c),s=n(92),l=n.n(s),f=n(0),h=n.n(f),d=n(93),g=n(51),v=n.n(g),p=n(57),b=n(1);function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var w=function(e){var t=e.row,n=e.setSizeRef,r=e.style;return h.a.createElement("div",{className:"row-".concat(t.id),style:r},h.a.createElement("div",{ref:n,className:"relative px-4 py-2 border-b"},h.a.createElement("span",{className:"text-red font-bold"},"Row: ",t.id),h.a.createElement("p",null,t.text)))},y=function(e){var t=e.row,n=e.setSizeRef,r=e.style,o=t.groupHeader;return h.a.createElement("div",{className:"header-".concat(o),style:r},h.a.createElement("div",{ref:n,className:"c-sticky pin-t z-50 w-screen"},h.a.createElement("div",{className:"py-2 px-4 bg-red text-white font-bold"},o,"th")))},O=function(e){return v.a.seed(e),{id:e+1,text:v.a.lorem.paragraphs()}},S=Object(b.a)(Object(d.hot)(e),Object(b.k)(function(){return{rows:l()(100,O)}},{loadRows:function(e){var t=e.rows;return function(){return{rows:m(t).concat(m(u()(a()(t.length,t.length+100),O)))}}}}),Object(b.i)(["loadRows"],function(e){var t=e.loadRows;return{loadRows:o()(t,1e3/60,{leading:!0,trailing:!1})}}),Object(b.g)({onLoadMore:function(e){var t=e.loadRows;return function(){t()}}}));t.a=S(function(e){var t=e.rows,n=e.onScroll,r=e.onLoadMore;return h.a.createElement("div",{className:"flex flex-col h-screen"},h.a.createElement("header",{className:"p-4 flex-0 border-b-2"},"Fixed header area"),h.a.createElement(p.a,null,function(e){var o=e.size,i=e.setSizeRef;return h.a.createElement("div",{className:"flex-1 overflow-hidden",ref:i},h.a.createElement(p.b,{onLoadMore:r,onScroll:n,height:o.height,rows:t,groupBy:function(e){var t=e.row,n=25*Math.floor(t.id/25);return 0===n?null:n},renderGroupHeader:y,reversed:!0},w))}))})}).call(this,n(59)(e))}});
//# sourceMappingURL=main.198337ab.js.map