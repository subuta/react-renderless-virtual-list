{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./docs/components/App.js","webpack:///./docs/components/Placeholder.js","webpack:///./docs/components/AnimatedPlaceholder.js","webpack:///./docs/index.js","webpack:///./src/hocs/withSize.js","webpack:///./src/components/Sized.js","webpack:///./src/utils/fastdom.js","webpack:///./src/hocs/withScroll.js","webpack:///./src/utils/performance.js","webpack:///./src/utils/virtualListState.js","webpack:///./src/components/VirtualListItem.js","webpack:///./src/components/VirtualList.js","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","renderRow","_ref","row","setSizeRef","style","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","concat","id","ref","text","renderGroupHeader","_ref2","groupHeader","renderPlaceholder","props","_props$className","_Placeholder__WEBPACK_IMPORTED_MODULE_11__","createFakeRow","index","faker","seed","lorem","paragraphs","enhance","compose","hot","withStateHandlers","rows","lodash_times__WEBPACK_IMPORTED_MODULE_5___default","scrollToIndex","loadRows","_ref3","_toConsumableArray","lodash_map__WEBPACK_IMPORTED_MODULE_4___default","lodash_range__WEBPACK_IMPORTED_MODULE_3___default","prependRow","_ref4","setScrollToIndex","withPropsOnChange","_ref5","lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default","leading","trailing","withHandlers","onLoadMore","_ref6","console","log","lodash_delay__WEBPACK_IMPORTED_MODULE_1___default","onPrepend","_ref7","requestAnimationFrame","__webpack_exports__","onScroll","draftScrollToIndex","type","placeholder","onChange","e","target","onKeyDown","lodash_toLower__WEBPACK_IMPORTED_MODULE_0___default","Number","onClick","_src__WEBPACK_IMPORTED_MODULE_9__","_ref8","size","height","width","groupBy","_ref9","header","Math","floor","keyBy","_ref10","reversed","PATTERNS","react__WEBPACK_IMPORTED_MODULE_2___default","children","lodash_times__WEBPACK_IMPORTED_MODULE_1___default","React","cloneElement","lodash_sample__WEBPACK_IMPORTED_MODULE_0___default","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","recompose__WEBPACK_IMPORTED_MODULE_1__","dots","animateDots","lifecycle","componentDidMount","_this","this","timer","setInterval","componentWillUnmount","clearInterval","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","_components_App__WEBPACK_IMPORTED_MODULE_2__","ReactDOM","render","document","querySelector","withSize","pure","withState","_ref2$size","onResize","setSize","el","entries","contentRect","first_default","top","right","bottom","left","clientHeight","clientWidth","nextSize","isEqual_default","sizeRef","unobserve","noop_default","ro","ResizeObserver","observe","toRenderProps","fastdom","extend","fastdomPromised","scrollTop","scrollReason","_onScroll","state","requestScrollTo","listen","scrollContainerRef","isTicking","measure","setScrollContainerRef","addEventListener","passive","removeEventListener","scrollTo","mutate","componentDidUpdate","_this$props","unlisten","isBrowser","now","performance","Date","mark","fn","skip","arguments","undefined","isFunction_default","t0","diff","VirtualListState","heights","groupIndices","_classCallCheck","reset","_setRowHeights","_setGroupIndices","sum","fromOfRows","transform_default","set","Map","totalHeight","sum_default","groupHeights","lastIndex","sumOfHeights","each_default","groupHeight","from","Array","keys","getFromOfRows","fromPosition","toPosition","visibleIndex","findVisibleIndex","first","findLast_default","visible","filter_default","to","last","find_default","all","uniq_default","compact_default","foundFromPosition","foundToPosition","getFromPosition","overScanCount","_objectSpread","lastOverScanIndex","overflow","nextProps","_ref$onMeasure","onMeasure","_ref$size","withProps","_style","_props$size","_props$defaultRowSize","defaultRowSize","_props$reversed","isGroupHeader","VirtualListItem_defineProperty","position","VirtualListItem_objectSpread","minHeight","shouldUpdate","isSizeChanged","isRowChanged","isStyleChanged","defaults","renderListContainer","react_default","renderList","_props$className2","renderListItem","rowSize","namespace","nextRow","nextIndex","previousRow","previousIndex","VirtualListItem","VirtualList","defaultProps","nextRows","lastGroupHeader","currentRowIndex","set_default","get_default","nextGroupHeader","debounce_default","isNumber_default","parseFloat","fill","fill_default","virtualListState","heightCache","getTotalHeight","mergeHeightCache","nextHeightCache","merge_default","VirtualList_toConsumableArray","withScroll","lastScrollTop","isAdjusted","debouncedHeightCache","handleScroll","_props$scrollTop","endOfRows","overScanIndex","findOverScanIndex","direction","hasInitialized","isEdge","positions","setHeightCache","getStyles","containerStyle","overflowX","willChange","listStyle","adjustScrollTop","scrollToRow","rowIndex","findIndex_default","isNaN_default","ensureScrollToRow","delay_default","VirtualList_objectSpread","getSnapshotBeforeUpdate","prevProps","prevState","_props$rows","_props$containerStyle","_props$listStyle","_props$overScanIndex","List","Placeholder","Container","nearestGroupIndices","rendered","range","isEmpty_default","range_default","map_default","includes_default","_objectSpread2","getGroupHeight","VirtualList_defineProperty","process","Sized"],"mappings":"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","file":"main.87d026ed.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/react-renderless-virtual-list/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([122,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React from 'react'\nimport { hot } from 'react-hot-loader'\n\nimport _ from 'lodash'\nimport faker from 'faker'\n\nimport {\n  VirtualList,\n  Sized\n} from 'src'\n\nimport {\n  compose,\n  withHandlers,\n  withStateHandlers,\n  withPropsOnChange,\n  lifecycle\n} from 'recompose'\n\nimport Placeholder from './Placeholder'\nimport AnimatedPlaceholder from './AnimatedPlaceholder'\n\nconst renderRow = ({ row, setSizeRef, style }) => {\n  return (\n    <div\n      className={`row-${row.id}`}\n      style={style}\n    >\n      <div\n        ref={setSizeRef}\n        className='relative bg-white px-4 py-2 border-b z-10'\n      >\n        <span className='text-red font-bold'>Row: {row.id}</span>\n\n        <p>{row.text}</p>\n      </div>\n    </div>\n  )\n}\n\nconst renderGroupHeader = ({ row, setSizeRef, style }) => {\n  const { groupHeader } = row\n\n  return (\n    <div\n      className={`header-${groupHeader}`}\n      style={style}\n    >\n      <div\n        ref={setSizeRef}\n        className='c-sticky pin-t z-50 w-screen'\n      >\n        <div className=\"py-2 px-4 bg-red text-white font-bold\">{`${groupHeader}`}</div>\n      </div>\n    </div>\n  )\n}\n\nconst renderPlaceholder = (props) => {\n  const {\n    className = 'placeholder',\n    style\n  } = props\n\n  return (\n    <Placeholder\n      key='placeholder'\n      className={className}\n      style={style}\n    />\n  )\n}\n\nconst renderAnimatedPlaceholder = (props) => {\n  const {\n    className = 'placeholder',\n    style\n  } = props\n\n  return (\n    <AnimatedPlaceholder\n      key='placeholder'\n      className={className}\n      style={style}\n    />\n  )\n}\n\n// Initial rows count\nconst ROWS_COUNT = 100\n\nconst createFakeRow = (index) => {\n  // Fix faker seed for getting same result.\n  faker.seed(index)\n  const text = faker.lorem.paragraphs()\n  return { id: index + 1, text }\n}\n\nconst enhance = compose(\n  hot(module),\n  withStateHandlers(\n    () => ({\n      rows: _.times(ROWS_COUNT, createFakeRow),\n      scrollToIndex: null\n    }),\n    {\n      loadRows: ({ rows }) => () => {\n        const nextRows = [...rows, ..._.map(_.range(rows.length, rows.length + ROWS_COUNT), createFakeRow)]\n        return { rows: nextRows }\n      },\n\n      prependRow: ({ rows }) => () => {\n        const nextRows = [createFakeRow(10000), ...rows]\n        return { rows: nextRows, scrollToIndex: 0 }\n      },\n\n      setScrollToIndex: () => (scrollToIndex) => ({ scrollToIndex })\n    }\n  ),\n  withPropsOnChange(\n    ['loadRows'],\n    ({ loadRows }) => ({ loadRows: _.debounce(loadRows, 1000 / 60, { leading: true, trailing: false }) })\n  ),\n  withHandlers({\n    onLoadMore: ({ loadRows }) => () => {\n      console.log('Try to load more ....')\n      _.delay(() => {\n        console.log('3 seconds elapsed!')\n        loadRows()\n      }, 3000)\n    },\n\n    onPrepend: ({ prependRow, setScrollToIndex }) => () => {\n      prependRow()\n      requestAnimationFrame(() => setScrollToIndex(null))\n    }\n  })\n)\n\nexport default enhance((props) => {\n  const {\n    rows,\n    onScroll,\n    onLoadMore,\n    onPrepend,\n    setScrollToIndex,\n    scrollToIndex\n  } = props\n\n  window.onPrepend = onPrepend\n\n  let draftScrollToIndex = null\n\n  return (\n    <div className='flex flex-col h-screen'>\n      <header className='p-4 flex-0 border-b-2 flex items-center justify-between'>\n        <span>Fixed header area</span>\n\n        <span className='flex items-stretch justify-center'>\n          <input\n            className=\"w-16 border px-4 py-2 rounded outline-none\"\n            type=\"text\"\n            placeholder=\"No\"\n            onChange={(e) => {\n              draftScrollToIndex = e.target.value\n            }}\n            onKeyDown={(e) => {\n              if (_.toLower(e.key) === 'enter') {\n                setScrollToIndex(Number(draftScrollToIndex) - 1)\n              }\n            }}\n          />\n\n          <button\n            className=\"ml-2 px-2 rounded border\"\n            onClick={() => setScrollToIndex(Number(draftScrollToIndex) - 1)}\n          >\n            Go\n          </button>\n        </span>\n      </header>\n\n      <Sized>\n        {({ size, setSizeRef }) => {\n          return (\n            <div\n              className='flex-1 overflow-hidden'\n              ref={setSizeRef}\n            >\n              <VirtualList\n                onLoadMore={onLoadMore}\n                onScroll={onScroll}\n                height={size.height}\n                width={size.width}\n                rows={rows}\n                groupBy={({ row }) => {\n                  const header = Math.floor(row.id / 25) * 25\n                  if (header === 0) return null\n\n                  return `${header}th`\n                }}\n                keyBy={({ row }) => row.id}\n                renderGroupHeader={renderGroupHeader}\n                // renderPlaceholder={renderAnimatedPlaceholder}\n                renderPlaceholder={renderPlaceholder}\n                scrollToIndex={scrollToIndex}\n                reversed\n              >\n                {renderRow}\n              </VirtualList>\n            </div>\n          )\n        }}\n      </Sized>\n    </div>\n  )\n})\n","import React from 'react'\nimport _ from 'lodash'\n\n// Slack-like placeholder :)\nconst PATTERN_1 = (\n  <div className='flex py-2 px-4'>\n    <div className='bg-grey-light w-10 h-10 rounded flex-none' />\n\n    <div className='w-full flex-1'>\n      <div className='mt-1 flex'>\n        <div className='ml-2 bg-grey-light w-32 h-2 rounded-full' />\n        <div className='ml-2 bg-grey-light w-16 h-2 rounded-full' />\n      </div>\n\n      <div className='mt-3 flex'>\n        <div className='ml-2 bg-grey-light w-16 h-2 rounded-full' />\n        <div className='ml-2 bg-grey-light w-64 h-2 rounded-full' />\n      </div>\n    </div>\n  </div>\n)\n\nconst PATTERN_2 = (\n  <div className='flex py-2 px-4'>\n    <div className='bg-grey-light w-10 h-10 rounded flex-none' />\n\n    <div className='w-full flex-1'>\n      <div className='mt-1 flex'>\n        <div className='ml-2 bg-grey-light w-32 h-2 rounded-full' />\n        <div className='ml-2 bg-grey-light w-16 h-2 rounded-full' />\n      </div>\n\n      <div className='mt-3 flex'>\n        <div className='ml-2 bg-grey-light w-16 h-2 rounded-full' />\n        <div className='ml-2 bg-grey-light w-48 h-2 rounded-full' />\n      </div>\n    </div>\n  </div>\n)\n\nconst PATTERN_3 = (\n  <div className='flex py-2 px-4'>\n    <div className='bg-grey-light w-10 h-10 rounded flex-none' />\n\n    <div className='w-full flex-1'>\n      <div className='mt-1 flex'>\n        <div className='ml-2 bg-grey-light w-32 h-2 rounded-full' />\n        <div className='ml-2 bg-grey-light w-8 h-2 rounded-full' />\n      </div>\n\n      <div className='mt-3 flex'>\n        <div className='ml-2 bg-grey-light w-48 h-2 rounded-full' />\n      </div>\n    </div>\n  </div>\n)\n\nconst PATTERN_4 = (\n  <div className='flex py-2 px-4'>\n    <div className='bg-grey-light w-10 h-10 rounded flex-none' />\n\n    <div className='w-full flex-1'>\n      <div className='mt-1 flex'>\n        <div className='ml-2 bg-grey-light w-32 h-2 rounded-full' />\n        <div className='ml-2 bg-grey-light w-8 h-2 rounded-full' />\n      </div>\n\n      <div className='mt-3 flex'>\n        <div className='ml-2 bg-grey-light w-24 h-2 rounded-full' />\n      </div>\n    </div>\n  </div>\n)\n\nconst PATTERN_5 = (\n  <div className='flex py-2 px-4'>\n    <div className='bg-grey-light w-10 h-10 rounded flex-none' />\n\n    <div className='w-full flex-1'>\n      <div className='mt-1 flex'>\n        <div className='ml-2 bg-grey-light w-32 h-2 rounded-full' />\n        <div className='ml-2 bg-grey-light w-8 h-2 rounded-full' />\n      </div>\n\n      <div className='mt-3 flex'>\n        <div className='ml-2 bg-grey-light w-64 h-48 rounded' />\n      </div>\n    </div>\n  </div>\n)\n\n// Random patterns.\nconst PATTERNS = [\n  PATTERN_1,\n  PATTERN_2,\n  PATTERN_3,\n  PATTERN_4,\n  PATTERN_5,\n]\n\nconst children = _.times(200, (i) => React.cloneElement(_.sample(PATTERNS), { key: i }))\n\nexport default (props) => {\n  const {\n    style\n  } = props\n\n  let className = 'overflow-hidden'\n  if (props.className) {\n    className += props.className\n  }\n\n  return (\n    <div key='placeholder'\n         className={className}\n         style={style}\n    >\n      <div className='p-4 font-bold'>Loading...</div>\n\n      <div>\n        {children}\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport {\n  compose,\n  lifecycle,\n  withStateHandlers\n} from 'recompose'\n\nconst enhance = compose(\n  withStateHandlers(\n    () => ({ dots: '' }),\n    {\n      animateDots: ({ dots }) => () => {\n        if (dots.length >= 3) {\n          return { dots: '' }\n        }\n        return { dots: dots + '.' }\n      }\n    }\n  ),\n  lifecycle({\n    componentDidMount () {\n      this.timer = setInterval(() => this.props.animateDots(), 1000)\n    },\n\n    componentWillUnmount () {\n      clearInterval(this.timer)\n    }\n  })\n)\n\nexport default enhance(({ style, dots }) => {\n  return (\n    <div\n      key='placeholder'\n      className='placeholder c-sticky h-screen pin flex items-center justify-center z-minus'\n      style={style}\n    >\n      <h3>Loading{dots}</h3>\n    </div>\n  )\n})\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './components/App'\n\n// Only for debug.\n// if (process.env.NODE_ENV !== 'production') {\n//   const {whyDidYouUpdate} = require('why-did-you-update');\n//   whyDidYouUpdate(React);\n// }\n\nReactDOM.render(<App />, document.querySelector('#app'))\n","import {\n  compose,\n  lifecycle,\n  withHandlers,\n  withState,\n  pure\n} from 'recompose'\nimport _ from 'lodash'\n\nimport ResizeObserver from 'resize-observer-polyfill'\n\nexport default compose(\n  pure,\n  withState('size', 'setSize', ({ index, size = { height: 0, width: 0 } }) => size),\n  withHandlers({\n    onResize: ({ index, size, setSize }) => (el, entries) => {\n      const { contentRect } = _.first(entries)\n      const { top, right, bottom, left, height, width } = contentRect\n      const paddingBottom = bottom - height\n      const paddingRight = right - width\n      const clientHeight = top + paddingBottom + height\n      const clientWidth = left + paddingRight + width\n\n      const nextSize = {\n        height: clientHeight,\n        width: clientWidth\n      }\n\n      if (clientHeight <= 0 || clientWidth <= 0) return\n      if (_.isEqual(size, nextSize)) return\n\n      setSize(nextSize)\n    }\n  }),\n  withHandlers((props) => {\n    let sizeRef = null\n    let unobserve = _.noop\n    let onResize = props.onResize\n\n    const ro = new ResizeObserver((entries) => onResize(sizeRef, entries))\n\n    const observe = () => {\n      if (!sizeRef) return\n      ro.observe(sizeRef)\n      return () => {\n        ro.unobserve(sizeRef)\n        sizeRef = null\n      }\n    }\n\n    return {\n      observe,\n\n      setSizeRef: () => (_ref) => {\n        sizeRef = _ref\n        if (!sizeRef) return\n\n        unobserve = observe()\n      },\n\n      unobserve: () => () => {\n        onResize = _.noop\n        unobserve()\n      }\n    }\n  }),\n  lifecycle({\n    componentWillUnmount () {\n      this.props.unobserve()\n    }\n  })\n)\n","import React from 'react'\n\nimport {\n  compose,\n  pure,\n  toRenderProps\n} from 'recompose'\n\nimport withSize from 'src/hocs/withSize'\n\nconst enhance = compose(\n  pure,\n  withSize\n)\n\nexport default toRenderProps(enhance)\n","import fastdom from 'fastdom'\nimport fastdomPromised from 'fastdom/extensions/fastdom-promised'\n\nexport default fastdom.extend(fastdomPromised)\n","import {\n  compose,\n  lifecycle,\n  withStateHandlers,\n  withHandlers,\n  withPropsOnChange\n} from 'recompose'\nimport _ from 'lodash'\n\nimport fastdom from 'src/utils/fastdom'\n\nexport const SCROLL_REASON_REQUESTED = 'SCROLL_REASON_REQUESTED'\nexport const SCROLL_REASON_ON_SCROLL_EVENT = 'SCROLL_REASON_ON_SCROLL_EVENT'\n\nexport default compose(\n  withStateHandlers(\n    () => ({\n      scrollTop: 0,\n      scrollReason: null\n    }),\n    {\n      _onScroll: (state) => (scrollTop, e) => {\n        if (state.scrollTop === scrollTop) return\n        return {\n          scrollTop,\n          scrollReason: SCROLL_REASON_ON_SCROLL_EVENT\n        }\n      },\n\n      requestScrollTo: (state) => (scrollTop) => {\n        if (state.scrollTop === scrollTop) return\n        return {\n          scrollTop,\n          scrollReason: SCROLL_REASON_REQUESTED\n        }\n      }\n    }\n  ),\n  withHandlers((props) => {\n    let listen = _.noop\n    let scrollContainerRef = null\n    let isTicking = false\n\n    const onScroll = (e) => {\n      if (!isTicking) {\n        fastdom.measure(() => {\n          props._onScroll(scrollContainerRef.scrollTop, e)\n          isTicking = false\n        })\n\n        isTicking = true\n      }\n    }\n\n    return {\n      setScrollContainerRef: () => (ref) => {\n        scrollContainerRef = ref\n\n        window.scrollContainerRef = scrollContainerRef\n\n        if (!scrollContainerRef) return\n        listen = () => {\n          scrollContainerRef.addEventListener('scroll', onScroll, { passive: true })\n          return () => scrollContainerRef.removeEventListener('scroll', onScroll)\n        }\n      },\n\n      scrollTo: () => (scrollTop) => {\n        fastdom.mutate(() => {\n          scrollContainerRef.scrollTop = scrollTop\n        })\n      },\n\n      listen: () => listen\n    }\n  }),\n  lifecycle({\n    componentDidUpdate () {\n      const { scrollReason, scrollTo, scrollTop } = this.props\n\n      if (scrollReason === SCROLL_REASON_REQUESTED) {\n        scrollTo(scrollTop)\n      }\n    },\n\n    componentDidMount () {\n      this.unlisten = this.props.listen()\n    },\n\n    componentWillUnmount () {\n      this.unlisten && this.unlisten()\n    }\n  })\n)\n","import _ from 'lodash'\n\nconst isBrowser = typeof window !== 'undefined'\n\n// Isomorphic now function :)\nconst now = () => isBrowser ? window.performance.now() : new Date()\n\nconst measure = (mark, fn, skip = true) => {\n  // If mark is omitted.\n  if (_.isFunction(mark)) {\n    skip = fn\n    fn = mark\n    mark = ''\n  }\n\n  if (skip) return fn();\n\n  const t0 = now()\n\n  fn()\n\n  const t1 = now()\n  const diff = t1 - t0\n\n  console.log(`${mark ? `[${mark}] ` : ''}Took ${(diff)} milliseconds.`)\n\n  return diff\n}\n\n// Allow mocha style `skip` of measure call :)\nmeasure.skip = (mark, fn) => {\n  if (_.isFunction(mark)) {\n    fn = mark\n  }\n\n  return fn()\n}\n\nexport {\n  now,\n  measure\n}\n\nexport default {\n  now,\n  measure\n}\n","import _ from 'lodash'\n\nclass VirtualListState {\n  constructor (heights, groupIndices) {\n    this.reset(heights, groupIndices)\n  }\n\n  reset (heights, groupIndices) {\n    this._setRowHeights(heights)\n    this._setGroupIndices(groupIndices)\n  }\n\n  _setRowHeights (heights = []) {\n    let sum = 0\n    this.fromOfRows = _.transform(heights, (result, height, i) => {\n      result.set(sum += height, i)\n    }, new Map())\n\n    this.totalHeight = _.sum(heights)\n    this.heights = heights\n  }\n\n  _setGroupIndices (groupIndices = []) {\n    this.groupHeights = new Map()\n\n    let lastIndex = 0\n    let sumOfHeights = 0\n\n    _.each(groupIndices, (index) => {\n      const heights = this.heights.slice(lastIndex, lastIndex === 0 ? index + 1 : index)\n      const groupHeight = _.sum(heights)\n\n      this.groupHeights.set(index, {\n        height: groupHeight,\n        from: sumOfHeights\n      })\n\n      sumOfHeights += groupHeight\n      lastIndex = index\n    })\n\n    this.groupIndices = groupIndices\n  }\n\n  getTotalHeight () {\n    return this.totalHeight\n  }\n\n  getGroupHeight (index) {\n    return this.groupHeights.get(index)\n  }\n\n  getFromOfRows () {\n    return Array.from(this.fromOfRows.keys())\n  }\n\n  getFromPosition (index) {\n    if (index === 0) return 0\n    return this.getFromOfRows()[index - 1] || 0\n  }\n\n  nearestGroupIndices (fromPosition, toPosition) {\n    const visibleIndex = this.findVisibleIndex(fromPosition, toPosition)\n\n    const first = _.findLast(this.groupIndices, (index) => visibleIndex.from >= index) || null\n    const visible = _.filter(this.groupIndices, (index) => visibleIndex.from <= index && index <= visibleIndex.to)\n    const last = _.find(this.groupIndices, (index) => index >= visibleIndex.to) || null\n\n    return {\n      first, visible, last,\n      all: _.uniq(_.compact([ first, ...visible, last ]))\n    }\n  }\n\n  findVisibleIndex (fromPosition, toPosition) {\n    const foundFromPosition = _.find(this.getFromOfRows(), (sum) => sum >= fromPosition)\n    const foundToPosition = _.find(this.getFromOfRows(), (sum) => sum >= toPosition)\n\n    const from = this.fromOfRows.get(foundFromPosition)\n    const to = this.fromOfRows.get(foundToPosition)\n\n    return {\n      from,\n      to,\n      // Start position should not includes edge value.\n      fromPosition: this.getFromPosition(from),\n      toPosition: foundToPosition\n    }\n  }\n\n  findOverScanIndex (fromPosition, toPosition, overScanCount = 0) {\n    const visibleIndex = this.findVisibleIndex(fromPosition, toPosition)\n\n    if (visibleIndex.from === undefined || visibleIndex.to === undefined) {\n      return {\n        ...this.lastOverScanIndex,\n        overflow: true\n      }\n    }\n\n    const from = (visibleIndex.from - overScanCount) >= 0 ? visibleIndex.from - overScanCount : 0\n    const to = (visibleIndex.to + overScanCount) <= this.heights.length - 1 ? visibleIndex.to + overScanCount : this.heights.length - 1\n\n    this.lastOverScanIndex = {\n      from,\n      to,\n      // Start position should not includes edge value.\n      fromPosition: this.getFromPosition(from),\n      toPosition: this.getFromOfRows()[to]\n    }\n\n    return this.lastOverScanIndex\n  }\n}\n\nexport default VirtualListState\n","import React from 'react'\nimport _ from 'lodash'\n\nimport {\n  compose,\n  toRenderProps,\n  pure,\n  withProps,\n  withPropsOnChange,\n  shouldUpdate\n} from 'recompose'\n\nimport withSize from 'src/hocs/withSize'\n\nconst enhance = compose(\n  pure,\n  withSize,\n  withPropsOnChange(\n    (props, nextProps) => !_.isEqual(props.size, nextProps.size),\n    ({ onMeasure = _.noop, index, size = {} }) => {\n      if (!size.height || !size.width) return\n      onMeasure(index, size)\n    }\n  ),\n  withProps((props) => {\n    const {\n      size = {},\n      defaultRowSize = {},\n      reversed = false,\n      setSizeRef,\n      row,\n      index,\n      isGroupHeader,\n      groupHeight,\n      top,\n      bottom\n    } = props\n\n    let style = {\n      position: 'absolute',\n      [reversed ? 'bottom' : 'top']: reversed ? bottom : top,\n      left: 0\n    }\n\n    if (isGroupHeader) {\n      style = {\n        ...style,\n        height: groupHeight\n      }\n      return { row, index, setSizeRef, style }\n    }\n\n    if (size.height) {\n      style = {\n        ...style,\n        height: size.height\n      }\n    } else {\n      style = {\n        ...style,\n        minHeight: defaultRowSize.height\n      }\n    }\n\n    return { row, index, setSizeRef, style }\n  }),\n  shouldUpdate((props, nextProps) => {\n    const isSizeChanged = !_.isEqual(props.size, nextProps.size)\n    const isRowChanged = !_.isEqual(props.row, nextProps.row)\n    const isStyleChanged = !_.isEqual(props.style, nextProps.style)\n\n    return isRowChanged || isStyleChanged || isSizeChanged\n  })\n)\n\nexport default toRenderProps(enhance)\n","import React from 'react'\n\nimport _ from 'lodash'\n\nimport {\n  compose,\n  withStateHandlers,\n  withHandlers,\n  withPropsOnChange,\n  defaultProps,\n  lifecycle,\n  pure\n} from 'recompose'\n\nimport withScroll from 'src/hocs/withScroll'\nimport performance from 'src/utils/performance'\nimport VirtualListState from 'src/utils/virtualListState'\n\nimport VirtualListItem from './VirtualListItem'\n\nexport const SCROLL_DIRECTION_UP = 'SCROLL_DIRECTION_UP'\nexport const SCROLL_DIRECTION_DOWN = 'SCROLL_DIRECTION_DOWN'\n\nexport const NAMESPACE = '__RRVL__'\nconst VIRTUAL_LIST_HEIGHT = 10000000\n\n// Default value of props.\nconst defaults = {\n  renderListContainer: (props) => {\n    const {\n      className = 'c-virtual-list-container',\n      children,\n      style,\n      setScrollContainerRef\n    } = props\n\n    return (\n      <div ref={setScrollContainerRef} className={className} style={style}>{children}</div>\n    )\n  },\n\n  renderList: (props) => {\n    const {\n      className = 'c-virtual-list',\n      children,\n      style\n    } = props\n\n    return (\n      <div className={className} style={style}>{children}</div>\n    )\n  },\n\n  renderListItem: (props) => {\n    const {\n      keyBy,\n      // Will be used as height before render row.\n      rowSize,\n      size,\n      onMeasure,\n      reversed,\n      rows,\n      row,\n      index,\n      isGroupHeader,\n      fromOfRows,\n      groupHeight,\n      top,\n      bottom\n    } = props\n\n    const namespace = row[NAMESPACE] || {}\n    const nextRow = rows[namespace.nextIndex] || null\n    const previousRow = rows[namespace.previousIndex] || null\n\n    // Prepend index for detecting row changes.\n    const key = `${index}-${isGroupHeader ? row.groupHeader : keyBy({ row, index })}`\n\n    return (\n      <VirtualListItem\n        key={key}\n        rows={rows}\n        nextRow={nextRow}\n        previousRow={previousRow}\n        row={row}\n        index={index}\n        onMeasure={onMeasure}\n        size={size}\n        defaultRowSize={rowSize}\n        reversed={reversed}\n        fromOfRows={fromOfRows}\n        isGroupHeader={isGroupHeader}\n        top={top}\n        bottom={bottom}\n        groupHeight={groupHeight}\n      >\n        {isGroupHeader ? props.renderGroupHeader : props.children}\n      </VirtualListItem>\n    )\n  },\n\n  renderPlaceholder: (props) => {\n    const {\n      style\n    } = props\n\n    return (\n      <div\n        key='placeholder'\n        className='placeholder'\n        style={style}\n      >\n        <h3>Loading...</h3>\n      </div>\n    )\n  },\n\n  keyBy: ({ index }) => index,\n\n  overScanCount: 3,\n\n  height: 300,\n  width: '100%',\n\n  rowSize: {\n    height: 100,\n    width: 100\n  }\n}\n\nconst enhance = compose(\n  pure,\n  // Specify defaults\n  defaultProps(defaults),\n  withPropsOnChange(\n    ['rows'],\n    ({ rows, groupBy }) => {\n      let groupIndices = []\n      let nextRows = []\n      let lastGroupHeader = null\n\n      let lastIndex = 0\n\n      _.each(rows, (row, index) => {\n        // Set index\n        const currentRowIndex = lastIndex\n        _.set(row, [NAMESPACE, 'index'], currentRowIndex)\n        _.set(row, [NAMESPACE, 'initialIndex'], index)\n\n        // Set index to previousRow.\n        const previousRow = rows[index - 1]\n        if (previousRow) {\n          const previousIndex = _.get(previousRow, [NAMESPACE, 'index'])\n\n          _.set(previousRow, [NAMESPACE, 'nextIndex'], currentRowIndex)\n          _.set(row, [NAMESPACE, 'previousIndex'], previousIndex)\n        }\n\n        nextRows.push(row)\n\n        let nextGroupHeader = null\n        if (groupBy) {\n          nextGroupHeader = groupBy({ rows, row, index, previousRow, lastGroupHeader })\n        }\n\n        if (nextGroupHeader !== lastGroupHeader) {\n          // Keep current indices.\n          groupIndices.push(nextRows.length)\n          nextRows.push({ groupHeader: nextGroupHeader })\n        }\n\n        lastIndex = nextRows.length\n\n        lastGroupHeader = nextGroupHeader\n      })\n\n      return {\n        groupIndices,\n        rows: nextRows,\n      }\n    }\n  ),\n  withPropsOnChange(\n    ['onLoadMore', 'onScroll'],\n    ({ onLoadMore, onScroll }) => ({\n      onScroll: _.debounce(onScroll || _.noop, 300, { leading: true, trailing: false }),\n      onLoadMore: _.debounce(onLoadMore || _.noop, 300, { leading: true, trailing: false })\n    })\n  ),\n  withPropsOnChange(\n    ['height', 'width'],\n    ({ height, width }) => {\n      if (height === 0) return { height: defaults.height }\n      if (width === 0) return { height: defaults.width }\n\n      return {\n        height: _.isNumber(height) ? height : parseFloat(height, 10),\n        width: _.isNumber(width) ? width : parseFloat(width, 10)\n      }\n    }\n  ),\n  withStateHandlers(\n    ({ reversed, rows, groupIndices }) => {\n      const fill = _.fill(new Array(rows.length), defaults.rowSize.height)\n      const virtualListState = new VirtualListState(fill, groupIndices)\n      return {\n        virtualListState,\n        heightCache: fill,\n        totalHeight: virtualListState.getTotalHeight()\n      }\n    },\n    {\n      mergeHeightCache: (state, { groupIndices }) => (heightCache) => {\n        const nextHeightCache = _.merge([...state.heightCache], heightCache)\n        if (_.isEqual(state.heightCache, nextHeightCache)) return\n\n        const virtualListState = new VirtualListState(nextHeightCache, groupIndices)\n        return {\n          virtualListState,\n          heightCache: nextHeightCache,\n          totalHeight: virtualListState.getTotalHeight()\n        }\n      }\n    }\n  ),\n  withPropsOnChange(\n    ['rows'],\n    (props) => {\n      const {\n        rows,\n        heightCache,\n        mergeHeightCache\n      } = props\n\n      const fill = _.fill(new Array(rows.length), defaults.rowSize.height)\n      mergeHeightCache(_.merge(fill, heightCache))\n    }\n  ),\n  withScroll,\n  withHandlers(() => {\n    let lastScrollTop = -1\n    let isAdjusted = false\n    let debouncedHeightCache = []\n    let isTicking = false\n\n    return {\n      handleScroll: (props) => () => {\n        const {\n          scrollTop = 0,\n          onScroll,\n          onLoadMore,\n          rows,\n          height,\n          overScanCount,\n          virtualListState,\n          reversed\n        } = props\n\n        // Start position of rows.\n        let fromOfRows = reversed ? (VIRTUAL_LIST_HEIGHT - (scrollTop + height)) : scrollTop\n        if (reversed && !isAdjusted) {\n          fromOfRows = 0\n        }\n\n        // End position of rows.\n        const endOfRows = fromOfRows + height\n\n        const visibleIndex = virtualListState.findVisibleIndex(fromOfRows, endOfRows)\n        const overScanIndex = virtualListState.findOverScanIndex(fromOfRows, endOfRows, overScanCount)\n\n        const direction = lastScrollTop > scrollTop ? SCROLL_DIRECTION_UP : SCROLL_DIRECTION_DOWN\n\n        lastScrollTop = scrollTop\n\n        const hasInitialized = !reversed || isAdjusted\n        const isEdge = overScanIndex.to >= rows.length - 1\n\n        // Call onScroll.\n        if (onScroll && hasInitialized) {\n          onScroll({\n            scrollTop,\n            direction,\n            visibleIndex,\n            overScanIndex\n          })\n        }\n\n        if (onLoadMore && hasInitialized && isEdge) {\n          onLoadMore({\n            scrollTop,\n            direction,\n            visibleIndex,\n            overScanIndex\n          })\n        }\n\n        return {\n          visibleIndex,\n          overScanIndex,\n          positions: {\n            from: overScanIndex.fromPosition,\n            to: overScanIndex.toPosition\n          }\n        }\n      },\n\n      setHeightCache: (props) => (index, height) => {\n        debouncedHeightCache[index] = height\n\n        if (!isTicking) {\n          requestAnimationFrame(() => {\n            props.mergeHeightCache(debouncedHeightCache)\n            isTicking = false\n            // Clear debouncedHeightCache\n            debouncedHeightCache = []\n          })\n        }\n\n        isTicking = true\n      },\n\n      getStyles: ({ totalHeight, heightCache, height, width }) => () => {\n        const containerStyle = {\n          height,\n          width,\n          overflowX: 'auto',\n          willChange: 'transform'\n        }\n\n        const listStyle = {\n          position: 'relative',\n          minHeight: '100%',\n          width: '100%',\n          height: VIRTUAL_LIST_HEIGHT\n        }\n\n        return {\n          containerStyle,\n          listStyle\n        }\n      },\n\n      adjustScrollTop: ({ requestScrollTo, height }) => (totalHeight = 0) => {\n        requestScrollTo((VIRTUAL_LIST_HEIGHT - height) - totalHeight)\n        isAdjusted = true\n      },\n\n      scrollToRow: (props) => (scrollToIndex) => {\n        const {\n          rows,\n          requestScrollTo,\n          height,\n          virtualListState\n        } = props\n\n        const rowIndex = _.findIndex(rows, (row) => _.get(row, [NAMESPACE, 'initialIndex']) === Number(scrollToIndex))\n        const fromOfRows = virtualListState.getFromPosition(rowIndex)\n\n        // Ignore unknown index.\n        if (_.isNaN(fromOfRows)) return\n\n        requestScrollTo((VIRTUAL_LIST_HEIGHT - height) - fromOfRows)\n      }\n    }\n  }),\n  withHandlers({\n    onMeasure: ({ setHeightCache }) => (index, size) => {\n      setHeightCache(index, size.height)\n    },\n\n    ensureScrollToRow: ({ scrollToRow }) => (scrollToIndex) => {\n      scrollToRow(scrollToIndex)\n      // FIXME: More smart way to handle scroll gap(of new index).\n      _.delay(() => {\n        scrollToRow(scrollToIndex)\n      }, 300)\n    }\n  }),\n  withPropsOnChange(\n    ['virtualListState', 'scrollTop', 'height'],\n    (props) => ({\n      ...props.handleScroll(),\n      ...props.getStyles()\n    })\n  ),\n  lifecycle({\n    componentDidMount () {\n      if (this.props.reversed) {\n        this.props.adjustScrollTop()\n      }\n    },\n\n    getSnapshotBeforeUpdate (prevProps) {\n      if (!_.isEqual(prevProps.rows, this.props.rows)) {\n        return this.props.totalHeight\n      }\n      return null\n    },\n\n    componentDidUpdate (prevProps, prevState, totalHeight) {\n      const {\n        reversed,\n        scrollToIndex,\n        adjustScrollTop,\n        ensureScrollToRow\n      } = this.props\n\n      if (!reversed) return\n\n      if (totalHeight !== null) {\n        adjustScrollTop(totalHeight)\n      }\n\n      if (prevProps.scrollToIndex !== scrollToIndex) {\n        ensureScrollToRow(scrollToIndex)\n      }\n    }\n  })\n)\n\nexport default enhance((props) => {\n  const {\n    rows = [],\n    containerStyle = {},\n    listStyle = {},\n    groupIndices,\n    visibleIndex,\n    // Will be used as height before render row.\n    overScanIndex = {\n      from: 0,\n      to: rows.length - 1\n    },\n    renderList,\n    setScrollContainerRef,\n    renderListItem,\n    renderListContainer,\n    renderPlaceholder,\n    reversed,\n    virtualListState\n  } = props\n\n  const List = renderList\n  const Placeholder = renderPlaceholder\n  const Container = renderListContainer\n  const nearestGroupIndices = virtualListState.nearestGroupIndices(\n    overScanIndex.fromPosition,\n    overScanIndex.toPosition\n  )\n\n  let rendered = []\n\n  const hasNoGroupIndices = _.isEmpty(nearestGroupIndices.all)\n  const range = hasNoGroupIndices ? _.range(overScanIndex.from, overScanIndex.to + 1) : _.range(nearestGroupIndices.first || 0, nearestGroupIndices.last + 1)\n\n  performance.measure.skip('renderRows', () => {\n    rendered = _.map(range, (index) => {\n      const row = rows[index]\n      const fromOfRows = virtualListState.getFromPosition(index)\n\n      if (_.includes(groupIndices, index)) {\n        // Skip extra group headers.\n        if (!_.includes(nearestGroupIndices.all, index)) return null\n\n        const groupHeight = virtualListState.getGroupHeight(index)\n\n        return renderListItem({\n          ...props,\n          row,\n          index,\n          fromOfRows,\n          [reversed ? 'bottom' : 'top']: groupHeight.from,\n          groupHeight: groupHeight.height,\n          isGroupHeader: true\n        })\n      }\n\n      // No-render if index out of range.\n      if (index < overScanIndex.from || index > overScanIndex.to) return null\n\n      return renderListItem({\n        ...props,\n        row,\n        index,\n        fromOfRows,\n        [reversed ? 'bottom' : 'top']: fromOfRows\n      })\n    })\n  }, process.env.NODE_ENV === 'production')\n\n  if (overScanIndex.overflow) {\n    const fromOfRows = virtualListState.getFromPosition(overScanIndex.to + 1)\n\n    const style = {\n      position: 'absolute',\n      [reversed ? 'bottom' : 'top']: fromOfRows,\n      left: 0\n    }\n\n    rendered.push(\n      <Placeholder\n        key='placeholder'\n        style={style}\n      />\n    )\n  }\n\n  return (\n    <Container\n      style={containerStyle}\n      setScrollContainerRef={setScrollContainerRef}\n    >\n      <List style={listStyle}>\n        {rendered}\n      </List>\n    </Container>\n  )\n})\n","import Sized from './components/Sized'\nimport VirtualList, {\n  NAMESPACE,\n  SCROLL_DIRECTION_UP,\n  SCROLL_DIRECTION_DOWN\n} from './components/VirtualList'\n\nexport {\n  NAMESPACE,\n  SCROLL_DIRECTION_UP,\n  SCROLL_DIRECTION_DOWN,\n\n  VirtualList,\n  Sized\n}\n\nexport default {\n  NAMESPACE,\n  SCROLL_DIRECTION_UP,\n  SCROLL_DIRECTION_DOWN,\n\n  VirtualList,\n  Sized\n}\n"],"sourceRoot":""}