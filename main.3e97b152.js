!function(e){function t(t){for(var r,c,u=t[0],a=t[1],l=t[2],f=0,h=[];f<u.length;f++)c=u[f],o[c]&&h.push(o[c][0]),o[c]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(s&&s(t);h.length;)h.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var a=n[u];0!==o[a]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={0:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/react-renderless-virtual-list/";var u=window.webpackJsonp=window.webpackJsonp||[],a=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var s=a;i.push([112,1]),n()}({112:function(e,t,n){e.exports=n(113)},113:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(93),c=n.n(i),u=n(94);c.a.render(o.a.createElement(u.a,null),document.querySelector("#app"))},60:function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1),c=n(6),u=n.n(c),a=n(3),l=n.n(a),s=n(101),f=n.n(s),h=n(102),d=Object(i.a)(i.d,Object(i.j)("size","setSize",function(e){e.index;var t=e.size;return void 0===t?{height:0,width:0}:t}),Object(i.g)({onResize:function(e){e.index;var t=e.size,n=e.setSize;return function(e,r){var o=f()(r).contentRect,i=o.top,c=o.right,u=o.bottom,a=o.left,s=o.height,h=o.width,d=i+(u-s)+s,g=a+(c-h)+h,p={height:d,width:g};d<=0||g<=0||l()(t,p)||n(p)}}}),Object(i.g)(function(e){var t=null,n=u.a,r=e.onResize,o=new h.a(function(e){return r(t,e)}),i=function(){if(t)return o.observe(t),function(){o.unobserve(t),t=null}};return{observe:i,setSizeRef:function(){return function(e){(t=e)&&(n=i())}},unobserve:function(){return function(){r=u.a,n()}}}}),Object(i.c)({componentWillUnmount:function(){this.props.unobserve()}})),g=Object(i.a)(i.d,d),p=Object(i.f)(g),v=n(56),m=n.n(v),b=n(28),w=n.n(b),y=n(103),O=n.n(y),S=n(104),j=n.n(S),x=n(53),R=n.n(x),I=n(57),T=n.n(I),E=n(58),H=n.n(E),z=n(52),L=n.n(z),C=n(51),P=n.n(C),N=n(16),_=n.n(N),k=n(29),A=n.n(k),M=n(105),G=n.n(M),F=n(106),D=n.n(F),U=G.a.extend(D.a),q=Object(i.a)(Object(i.k)(function(){return{scrollTop:0,scrollReason:null}},{_onScroll:function(e){return function(t,n){if(e.scrollTop!==t)return{scrollTop:t,scrollReason:"SCROLL_REASON_ON_SCROLL_EVENT"}}},requestScrollTo:function(e){return function(t){if(e.scrollTop!==t)return{scrollTop:t,scrollReason:"SCROLL_REASON_REQUESTED"}}}}),Object(i.g)(function(e){var t=u.a,n=null,r=!1,o=function(t){r||(U.measure(function(){e._onScroll(n.scrollTop,t),r=!1}),r=!0)};return{setScrollContainerRef:function(){return function(e){n=e,window.scrollContainerRef=n,n&&(t=function(){return n.addEventListener("scroll",o,{passive:!0}),function(){return n.removeEventListener("scroll",o)}})}},scrollTo:function(){return function(e){U.mutate(function(){n.scrollTop=e})}},listen:function(){return t}}}),Object(i.c)({componentDidUpdate:function(){var e=this.props,t=e.scrollReason,n=e.scrollTo,r=e.scrollTop;"SCROLL_REASON_REQUESTED"===t&&n(r)},componentDidMount:function(){this.unlisten=this.props.listen()},componentWillUnmount:function(){this.unlisten&&this.unlisten()}})),V=n(107),B=n.n(V),W=n(108),J=n.n(W),Q=n(31),K=n.n(Q),X=n(109),Y=n.n(X),Z=n(110),$=n.n(Z),ee=n(59),te=n.n(ee),ne=n(111),re=n.n(ne);function oe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ce=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset(t,n)}return function(e,t,n){t&&ie(e.prototype,t),n&&ie(e,n)}(e,[{key:"reset",value:function(e,t){this._setRowHeights(e),this._setGroupIndices(t)}},{key:"_setRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;this.fromOfRows=re()(e,function(e,n,r){e.set(t+=n,r)},new Map),this.totalHeight=te()(e),this.heights=e}},{key:"_setGroupIndices",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.groupHeights=new Map;var n=0,r=0;A()(t,function(t){var o=e.heights.slice(n,0===n?t+1:t),i=te()(o);e.groupHeights.set(t,{height:i,from:r}),r+=i,n=t}),this.groupIndices=t}},{key:"getTotalHeight",value:function(){return this.totalHeight}},{key:"getGroupHeight",value:function(e){return this.groupHeights.get(e)}},{key:"getFromOfRows",value:function(){return Array.from(this.fromOfRows.keys())}},{key:"getFromPosition",value:function(e){return 0===e?0:this.getFromOfRows()[e-1]||0}},{key:"nearestGroupIndices",value:function(e,t){var n=this.findVisibleIndex(e,t),r=$()(this.groupIndices,function(e){return n.from>=e})||null,o=Y()(this.groupIndices,function(e){return n.from<=e&&e<=n.to}),i=K()(this.groupIndices,function(e){return e>=n.to})||null;return{first:r,visible:o,last:i,all:J()(B()([r].concat(oe(o),[i])))}}},{key:"findVisibleIndex",value:function(e,t){var n=K()(this.getFromOfRows(),function(t){return t>=e}),r=K()(this.getFromOfRows(),function(e){return e>=t}),o=this.fromOfRows.get(n);return{from:o,to:this.fromOfRows.get(r),fromPosition:this.getFromPosition(o),toPosition:r}}},{key:"findOverScanIndex",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.findVisibleIndex(e,t),o=r.from-n>=0?r.from-n:0,i=r.to+n<=this.heights.length-1?r.to+n:this.heights.length-1;return{from:o,to:i,fromPosition:this.getFromPosition(o),toPosition:this.getFromOfRows()[i]}}}]),e}();function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ae(e,t,n[t])})}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=Object(i.a)(i.d,d,Object(i.i)(function(e,t){return!l()(e.size,t.size)},function(e){var t=e.onMeasure,n=void 0===t?u.a:t,r=e.index,o=e.size,i=void 0===o?{}:o;i.height&&i.width&&n(r,i)}),Object(i.h)(function(e){var t,n=e.size,r=void 0===n?{}:n,o=e.defaultRowSize,i=void 0===o?{}:o,c=e.reversed,u=void 0!==c&&c,a=e.setSizeRef,l=e.row,s=e.index,f=e.isGroupHeader,h=e.groupHeight,d=e.top,g=e.bottom,p=(ae(t={position:"absolute"},u?"bottom":"top",u?g:d),ae(t,"left",0),t);return f?{row:l,index:s,setSizeRef:a,style:p=ue({},p,{height:h})}:{row:l,index:s,setSizeRef:a,style:p=r.height?ue({},p,{height:r.height}):ue({},p,{minHeight:i.height})}}),Object(i.e)(function(e,t){var n=!l()(e.size,t.size),r=!l()(e.row,t.row),o=!l()(e.style,t.style);return r||o||n})),se=Object(i.f)(le);function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){he(e,t,n[t])})}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ge={renderListContainer:function(e){var t=e.className,n=void 0===t?"c-virtual-list-container":t,r=e.children,i=e.style,c=e.setScrollContainerRef;return o.a.createElement("div",{ref:c,className:n,style:i},r)},renderList:function(e){var t=e.className,n=void 0===t?"c-virtual-list":t,r=e.children,i=e.style;return o.a.createElement("div",{className:n,style:i},r)},renderListItem:function(e){var t=e.rowSize,n=e.size,r=e.onMeasure,i=e.reversed,c=e.row,u=e.index,a=e.groupHeader,l=e.isGroupHeader,s=e.fromOfRows,f=e.groupHeight,h=e.top,d=e.bottom;return o.a.createElement(se,{key:u,row:c,index:u,groupHeader:a,onMeasure:r,size:n,defaultRowSize:t,reversed:i,fromOfRows:s,isGroupHeader:l,top:h,bottom:d,groupHeight:f},l?e.renderGroupHeader:e.children)},overScanCount:3,height:300,rowSize:{height:100,width:100}},pe=Object(i.a)(i.d,Object(i.b)(ge),Object(i.i)(["rows"],function(e){var t=e.rows,n=e.groupBy,r=[],o=[],i=null;return A()(t,function(e,c){var u=null;n&&(u=n({rows:t,row:e,index:c,lastGroupHeader:i})),e.previous=t[c-1]||null,e.index=c,e.next=t[c+1]||null,o.push(e),u!==i&&(r.push(o.length),o.push({groupHeader:u})),i=u}),{groupIndices:r,rows:o}}),Object(i.i)(["onLoadMore","onScroll"],function(e){var t=e.onLoadMore,n=e.onScroll;return{onScroll:_()(n||u.a,300,{leading:!0,trailing:!1}),onLoadMore:_()(t||u.a,300,{leading:!0,trailing:!1})}}),Object(i.i)(["renderListItem"],function(e){var t=e.renderListItem;return{renderListItem:P()(t,function(e){var t=e.index,n=e.fromOfRows,r=e.size;return"row-".concat(t,"-").concat(n).concat(r.height?"-".concat(r.height):"")})}}),Object(i.h)(function(e){var t=e.height;return 0===t?{height:ge.height}:{height:L()(t)?t:parseFloat(t,10)}}),Object(i.k)(function(e){e.reversed;var t=e.rows,n=e.groupIndices,r=H()(new Array(t.length),ge.rowSize.height),o=new ce(r,n);return{virtualListState:o,heightCache:r,totalHeight:o.getTotalHeight()}},{mergeHeightCache:function(e,t){var n=t.groupIndices;return function(t){var r=T()(de(e.heightCache),t);if(!l()(e.heightCache,r)){var o=new ce(r,n);return{virtualListState:o,heightCache:r,totalHeight:o.getTotalHeight()}}}}}),q,Object(i.g)(function(e){var t=[],n=!1;return{setHeightCache:function(){return function(r,o){t[r]=o,n||requestAnimationFrame(function(){e.mergeHeightCache(t),n=!1,t=[]}),n=!0}}}}),Object(i.g)(function(){var e=-1,t=!1,n=[];return{onMeasure:function(e){var t=e.setHeightCache;return function(e,r){n[e]=r,t(e,r.height)}},handleScroll:function(n){return function(){var r=n.scrollTop,o=void 0===r?0:r,i=n.onScroll,c=n.onLoadMore,u=n.rows,a=n.height,l=n.overScanCount,s=n.virtualListState,f=n.reversed,h=f?1e7-(o+a):o,d=h+a,g=s.findVisibleIndex(h,d),p=s.findOverScanIndex(h,d,l),v=e>o?"SCROLL_DIRECTION_UP":"SCROLL_DIRECTION_DOWN";e=o;var m=!f||t,b=p.to>=u.length-1;return i&&m&&i({scrollTop:o,direction:v,visibleIndex:g,overScanIndex:p}),c&&m&&b&&c({scrollTop:o,direction:v,visibleIndex:g,overScanIndex:p}),{visibleIndex:g,overScanIndex:p,positions:{from:p.fromPosition,to:p.toPosition}}}},getSizeCache:function(){return function(){return n}},getStyles:function(e){e.totalHeight,e.heightCache;var t=e.height;return function(){return{containerStyle:{height:t,width:"100vw",overflowX:"auto",willChange:"transform"},listStyle:{position:"relative",minHeight:"100%",width:"100%",height:1e7}}}},adjustScrollTop:function(e){var n=e.requestScrollTo,r=e.height;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n(1e7-r-e),t=!0}},scrollToRow:function(e){return function(t){var n=e.rows,r=e.requestScrollTo,o=e.height,i=e.virtualListState,c=R()(n,function(e){return e.index===Number(t)}),u=i.getFromPosition(c);j()(u)||r(1e7-o-u)}}}}),Object(i.g)({ensureScrollToRow:function(e){var t=e.scrollToRow;return function(e){t(e),O()(function(){t(e)},300)}}}),Object(i.i)(["scrollTop","height"],function(e){return fe({},e.handleScroll(),e.getStyles())}),Object(i.i)(["rows"],function(e){var t=e.rows,n=e.heightCache,r=e.mergeHeightCache,o=H()(new Array(t.length),ge.rowSize.height);r(T()(o,n))}),Object(i.c)({componentDidMount:function(){this.props.reversed&&this.props.adjustScrollTop()},getSnapshotBeforeUpdate:function(e){return l()(e.rows,this.props.rows)?null:this.props.totalHeight},componentDidUpdate:function(e,t,n){var r=this.props,o=r.reversed,i=r.scrollToIndex,c=r.adjustScrollTop,u=r.ensureScrollToRow;o&&(null!==n&&c(n),e.scrollToIndex!==i&&u(i))}}),Object(i.e)(function(e,t){var n=!l()(e.overScanIndex,t.overScanIndex),r=!l()(e.height,t.height),o=!l()(e.totalHeight,t.totalHeight);return n||r||o}))(function(e){var t=e.rows,n=void 0===t?[]:t,r=e.containerStyle,i=void 0===r?{}:r,c=e.listStyle,u=void 0===c?{}:c,a=e.groupIndices,l=e.overScanIndex,s=void 0===l?{from:0,to:n.length-1}:l,f=e.renderList,h=e.setScrollContainerRef,d=e.renderListItem,g=e.renderListContainer,p=e.getSizeCache,v=e.reversed,b=e.virtualListState,y=f,O=g,S=p(),j=b.nearestGroupIndices(s.fromPosition,s.toPosition);return o.a.createElement(O,{style:i,setScrollContainerRef:h},o.a.createElement(y,{style:u},w()(n,function(t,n){var r=b.getFromPosition(n),o=S[n]||{height:0};if(m()(a,n)){var i;if(!m()(j.all,n))return null;var c=b.getGroupHeight(n);return d(fe({},e,(he(i={row:t,index:n,size:o,fromOfRows:r},v?"bottom":"top",c.from),he(i,"groupHeight",c.height),he(i,"isGroupHeader",!0),i)))}return n<s.from||n>s.to?null:d(fe({},e,he({row:t,index:n,size:o,fromOfRows:r},v?"bottom":"top",r)))})))});n.d(t,"b",function(){return pe}),n.d(t,"a",function(){return p})},94:function(e,t,n){"use strict";(function(e){var r=n(95),o=n.n(r),i=n(16),c=n.n(i),u=n(96),a=n.n(u),l=n(28),s=n.n(l),f=n(97),h=n.n(f),d=n(0),g=n.n(d),p=n(98),v=n(54),m=n.n(v),b=n(60),w=n(1);function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var O=function(e){var t=e.row,n=e.setSizeRef,r=e.style;return g.a.createElement("div",{className:"row-".concat(t.id),style:r},g.a.createElement("div",{ref:n,className:"relative px-4 py-2 border-b"},g.a.createElement("span",{className:"text-red font-bold"},"Row: ",t.id),g.a.createElement("p",null,t.text)))},S=function(e){var t=e.row,n=e.setSizeRef,r=e.style,o=t.groupHeader;return g.a.createElement("div",{className:"header-".concat(o),style:r},g.a.createElement("div",{ref:n,className:"c-sticky pin-t z-50 w-screen"},g.a.createElement("div",{className:"py-2 px-4 bg-red text-white font-bold"},o,"th")))},j=function(e){return m.a.seed(e),{id:e+1,text:m.a.lorem.paragraphs()}},x=Object(w.a)(Object(p.hot)(e),Object(w.k)(function(){return{rows:h()(100,j),scrollToIndex:null}},{loadRows:function(e){var t=e.rows;return function(){return{rows:y(t).concat(y(s()(a()(t.length,t.length+100),j)))}}},setScrollToIndex:function(){return function(e){return{scrollToIndex:e}}}}),Object(w.i)(["loadRows"],function(e){var t=e.loadRows;return{loadRows:c()(t,1e3/60,{leading:!0,trailing:!1})}}),Object(w.g)({onLoadMore:function(e){var t=e.loadRows;return function(){t()}}}));t.a=x(function(e){var t=e.rows,n=e.onScroll,r=e.onLoadMore,i=e.setScrollToIndex,c=e.scrollToIndex,u=null;return g.a.createElement("div",{className:"flex flex-col h-screen"},g.a.createElement("header",{className:"p-4 flex-0 border-b-2 flex items-center justify-between"},g.a.createElement("span",null,"Fixed header area"),g.a.createElement("span",{className:"flex items-stretch justify-center"},g.a.createElement("input",{className:"w-16 border px-4 py-2 rounded outline-none",type:"text",placeholder:"No",onChange:function(e){u=e.target.value},onKeyDown:function(e){"enter"===o()(e.key)&&i(Number(u)-1)}}),g.a.createElement("button",{className:"ml-2 px-2 rounded border",onClick:function(){return i(Number(u)-1)}},"Go"))),g.a.createElement(b.a,null,function(e){var o=e.size,i=e.setSizeRef;return g.a.createElement("div",{className:"flex-1 overflow-hidden",ref:i},g.a.createElement(b.b,{onLoadMore:r,onScroll:n,height:o.height,rows:t,groupBy:function(e){var t=e.row,n=25*Math.floor(t.id/25);return 0===n?null:n},renderGroupHeader:S,scrollToIndex:c,reversed:!0},O))}))})}).call(this,n(62)(e))}});
//# sourceMappingURL=main.3e97b152.js.map